<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="{{title}} - Discover amazing discounts on this product. Shop now and save!">
    <title>{{title}} - Best Diskon Product</title>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="main1.css">
</head>
<body>
    <div id="header"></div> <!-- Placeholder for header -->
    
    <div class="container" id="content">
        <div class="breadcrumb">
            <a href="/">Home</a> &gt; <a href="/products">Products</a> &gt; <span id="breadcrumb-title">Product Title</span>
        </div>

        <div class="product-section">
            <div id="product-detail" class="product-detail">
                <!-- Product detail content will be rendered here -->
            </div>
        </div>
 
        <div class="search-bar">
            <input type="text" id="search-input" placeholder="Search for related products..." autocomplete="off">
            <button id="search-button">Search</button>
        </div>

        <div class="related-products-section">
            <h2>Related Products</h2>
            <div id="related-products-list" class="related-products">
                <!-- Related products content will be rendered here -->
            </div>
            <div class="pagination">
                <button id="load-more">Load More</button>
            </div>
        </div>
    </div>

    <div id="footer"></div> <!-- Placeholder for footer -->

    <script id="product-template" type="x-tmpl-mustache">
        <div class="product-detail">
            <img src="{{imageUrl}}" class="lazy" alt="{{title}}" onerror="this.src='default-image.jpg'">
            <div class="details">
                <h1>{{title}}</h1>
                <p>Category: {{category}}</p>
                <p class="price">Price: <span>{{discountPrice}}</span> <span class="discount-price">({{originPrice}})</span></p>
                <p class="discount">Discount: {{discount}}</p>
                <p>Don't Miss Out: {{title}} Shop Now! is available with {{discount}}. Buy more than 2 items and get an extra 10% discount and free shipping. Claim your products now!</p>
                <a class="buy-now" href="{{promotionUrl}}"><font color='white'><b>Shop Now</b></font></a>
            </div>
        </div>
    </script>

    <script id="related-products-template" type="x-tmpl-mustache">
        {{#relatedProducts}}
        <div class="product-item">
            <a href="/p/product.html?productId={{id}}">
                <img src="{{imageUrl}}" alt="{{title}}" class="lazy" onerror="this.src='default-image.jpg'">
            </a>
            <p>Price: <span>{{discountPrice}}</span></p>
            <p class="discount">Discount: {{discount}}</p>
        </div>
        {{/relatedProducts}}
    </script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/mustache.js/4.2.0/mustache.min.js"></script>
    <script src="main1.js"></script>
    <script>
        // Load header and footer after DOM is fully loaded
        document.addEventListener("DOMContentLoaded", function() {
            loadHeaderAndFooter();
        });

        function loadHeaderAndFooter() {
            fetch('header.html')
                .then(response => {
                    if (!response.ok) {
                        throw new Error('Network response was not ok');
                    }
                    return response.text();
                })
                .then(data => {
                    document.getElementById('header').innerHTML = data;
                })
                .catch(error => console.error('Error loading header:', error));

            fetch('footer.html')
                .then(response => {
                    if (!response.ok) {
                        throw new Error('Network response was not ok');
                    }
                    return response.text();
                })
                .then(data => {
                    document.getElementById('footer').innerHTML = data;
                })
                .catch(error => console.error('Error loading footer:', error));
        }
    </script>
</body>
</html>
